<div class="archive-container">
  <div class="archive-header">
    <h2>Archived Bookings</h2>
  </div>
  
  <table class="tables">
    <thead>
      <tr>
        <th>Room No.</th>
        <th>Room Type</th>
        <th>Guest</th>
        <th>Phone Number</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let archive of archives">
        <td>{{ archive.roomNumber }}</td>
        <td>{{ archive.roomType }}</td>
        <td>{{ archive.guest_firstName }} {{ archive.guest_lastName }}</td>
        <td>{{ archive.guest_phone }}</td>
        <td>
          <button (click)="viewDetails(archive)" class="btn-view">View Details</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="selectedArchive" class="popup-backdrop" (click)="closeDetails()">
    <div class="popup" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h3>Archived Booking Details</h3>
        <button (click)="closeDetails()" class="btn-close">Close</button>
      </div>

      <div class="form-group">
        <label>Guest Name:</label>
        <span>{{ selectedArchive.guest_firstName }} {{ selectedArchive.guest_lastName }}</span>
      </div>

      <div class="form-group">
        <label>Email:</label>
        <span>{{ selectedArchive.guest_email }}</span>
      </div>

      <div class="form-group">
        <label>Phone:</label>
        <span>{{ selectedArchive.guest_phone }}</span>
      </div>

      <div class="form-group">
        <label>Address:</label>
        <span>{{ selectedArchive.guest_address }}, {{ selectedArchive.guest_city }}</span>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Room Number:</label>
          <span>{{ selectedArchive.roomNumber }}</span>
        </div>
        <div class="form-group">
          <label>Room Type:</label>
          <span>{{ selectedArchive.roomType }}</span>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Check-In:</label>
          <span>{{ selectedArchive.checkIn }}</span>
        </div>
        <div class="form-group">
          <label>Check-Out:</label>
          <span>{{ selectedArchive.checkOut }}</span>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Adults:</label>
          <span>{{ selectedArchive.adults }}</span>
        </div>
        <div class="form-group">
          <label>Children:</label>
          <span>{{ selectedArchive.children }}</span>
        </div>
      </div>

      <div class="form-group">
        <label>Requests:</label>
        <span>{{ selectedArchive.requests || 'None' }}</span>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Payment Mode:</label>
          <span>{{ selectedArchive.paymentMode }}</span>
        </div>
        <div class="form-group">
          <label>Amount:</label>
          <span>₱{{ selectedArchive.amount }}</span>
        </div>
      </div>

      <div class="form-group">
        <label>Paid Amount:</label>
        <span>₱{{ selectedArchive.paidamount }}</span>
      </div>
    </div>
  </div>
</div>
