<router-outlet></router-outlet>

<!-- Skip to main content link for accessibility -->
<a href="#main-content" class="skip-link">Skip to main content</a>

<!-- Header Section -->
<section class="header" [style]="getHeaderStyles()">
  <div class="header-bar">
    <a href="#home" class="logo">
      <img [src]="logoUrl" alt="BC Flats Logo" class="w-16 h-16" (load)="onLogoLoad($event)" (error)="onLogoError($event)">
      <span class="logo-text" *ngIf="headerContent.companyName">{{ headerContent.companyName }}</span>
      <span class="logo-text" *ngIf="!headerContent.companyName && isLoadingContent">BC Flats</span>
    </a>
    <nav [class.mobile-open]="mobileMenuOpen">
      <a 
        *ngFor="let item of headerContent.navigation; trackBy: trackByIndex"
        [href]="item.href"
        [routerLink]="!item.isExternal && !(item.href && item.href.startsWith('#')) ? item.href : null"
        (click)="onHeaderNavClick($event, item.href)"
        [target]="item.isExternal ? '_blank' : undefined"
        class="nav-link">
        {{ item.label }}
      </a>
      <a 
        [href]="headerContent.ctaButton.href"
        [routerLink]="!headerContent.ctaButton.isExternal && !(headerContent.ctaButton.href && headerContent.ctaButton.href.startsWith('#')) ? headerContent.ctaButton.href : null"
        (click)="onHeaderNavClick($event, headerContent.ctaButton.href)"
        [target]="headerContent.ctaButton.isExternal ? '_blank' : undefined"
        class="btn book-now-btn">
        {{ headerContent.ctaButton.text }}
      </a>
    </nav>
    <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <a 
      [href]="headerContent.loginButton.href"
      [routerLink]="!headerContent.loginButton.isExternal && !(headerContent.loginButton.href && headerContent.loginButton.href.startsWith('#')) ? headerContent.loginButton.href : null"
      (click)="onHeaderNavClick($event, headerContent.loginButton.href)"
      [target]="headerContent.loginButton.isExternal ? '_blank' : undefined"
      class="btn login-btn">
      {{ headerContent.loginButton.text }}
    </a>
  </div>
</section>

<!-- Hero Section -->
<section class="back" id="main-content">
  <section class="home" id="home">
    <div class="swiper home-slider">
      <div class="swiper-wrapper">
        <div class="box swiper-slide" *ngFor="let image of heroImages; let i = index">
          <img 
            [src]="image" 
            [alt]="'Hero image ' + (i + 1)"
            loading="lazy"
            class="hero-image"
            (load)="onImageLoad($event)"
            (error)="onImageError($event, image)">
          <div class="flex">
            <h3>{{ getHeroTitle(i) }}</h3>
          </div>
        </div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
  </section>
</section>

<!-- About Section -->
<section class="about" id="about">
  <div class="row" data-aos="fade-up" data-aos-duration="1000">
    <div class="image">
      <img 
        src="assets/images/Staff.jpg" 
        alt="Best Staff"
        loading="lazy"
        class="about-image">
    </div>
    <div class="content">
      <h3>{{ getContentText('about', 'staff-title') || 'best staff' }}</h3>
      <p>{{ getContentText('about', 'staff-description') || 'Our professional and friendly staff are always ready to serve you with a smile—making every moment feel like home.' }}</p>
      <a routerLink="/reserve" class="btn">make a reservation</a>
    </div>
  </div>

  <div class="row revers" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
    <div class="image">
      <img 
        src="assets/images/Foods.jpg" 
        alt="Best Foods"
        loading="lazy"
        class="about-image">
    </div>
    <div class="content">
      <h3>{{ getContentText('about', 'foods-title') || 'best foods' }}</h3>
      <p>{{ getContentText('about', 'foods-description') || 'Savor our chef-crafted dishes made with the freshest ingredients. Every bite is an experience worth remembering.' }}</p>
    </div>
  </div>

  <div class="row" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400">
    <div class="image">
      <img 
        src="assets/images/Pool.jpg" 
        alt="Swimming Pool"
        loading="lazy"
        class="about-image">
    </div>
    <div class="content">
      <h3>{{ getContentText('about', 'pool-title') || 'swimming pool' }}</h3>
      <p>{{ getContentText('about', 'pool-description') || 'Relax, unwind, and soak up the sun in our crystal-clear pools—designed for both serenity and fun.' }}</p>
    </div>
  </div>
</section>

<!-- Services Section -->
<div style="height: 20px;"></div>
<section class="services" id="services">
  <div class="box-container">
    <div class="box">
      <img src="assets/images/icon-1.png" alt="">
      <h3>{{ getServiceContent('food-drinks-title') }}</h3>
      <p>{{ getServiceContent('food-drinks-description') }}</p>
    </div>

    <div class="box">
      <img src="assets/images/icon-2.png" alt="">
      <h3>{{ getServiceContent('outdoor-dining-title') }}</h3>
      <p>{{ getServiceContent('outdoor-dining-description') }}</p>
    </div>

    <div class="box">
      <img src="assets/images/icon-3.png" alt="">
      <h3>{{ getServiceContent('beach-view-title') }}</h3>
      <p>{{ getServiceContent('beach-view-description') }}</p>
    </div>

    <div class="box">
      <img src="assets/images/icon-4.png" alt="">
      <h3>{{ getServiceContent('decorations-title') }}</h3>
      <p>{{ getServiceContent('decorations-description') }}</p>
    </div>

    <div class="box">
      <img src="assets/images/icon-5.png" alt="">
      <h3>{{ getServiceContent('swimming-pool-title') }}</h3>
      <p>{{ getServiceContent('swimming-pool-description') }}</p>
    </div>

    <div class="box">
      <img src="assets/images/icon-6.png" alt="">
      <h3>{{ getServiceContent('resort-beach-title') }}</h3>
      <p>{{ getServiceContent('resort-beach-description') }}</p>
    </div>
  </div>
</section>
<div style="height: 20px;"></div>

<section class="rooms">
  <section id="rooms">
    <div class="container">
      <h2>Our Premium Rooms</h2>

      <div class="relative">
        <div class="absolute">
          <div *ngFor="let room of rooms; let i = index"
               class="card-wrapper"
               [ngClass]="getCardClass(i)">
            
            <div class="card">
              <div class="card-image">
                <div class="bg" [ngStyle]="{'background-image': 'url(' + room.image + ')'}">
                  <div class="overlay"></div>
                  <div class="price-tag">${{ room.price }}/night</div>
                </div>
              </div>

              <div class="seasonal-thumbs">
                <div *ngFor="let img of room.seasonalImages; let j = index"
                     class="thumb"
                     [ngStyle]="{'background-image': 'url(' + img + ')'}"
                     (click)="setRoomImage(i, img)"
                     [title]="'View image ' + (j + 1)">
                </div>
              </div>

              <div class="card-content">
                <h3>{{ room.name }}</h3>
                <p class="brand">{{ room.brand }}</p>
                <p class="description">{{ room.description }}</p>
                <div class="room-tags">
                  <span *ngFor="let tag of room.tags" class="tag">{{ tag }}</span>
                </div>
                <button class="book-room-btn" (click)="bookRoom(room)">
                  Book Now
                </button>
              </div>
            </div>
          </div>
        </div>

        <button class="nav-btn nav-left" (click)="prevRoom()" aria-label="Previous">
          <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>

        <button class="nav-btn nav-right" (click)="nextRoom()" aria-label="Next">
          <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>

        <div class="dots">
          <button *ngFor="let room of rooms; let idx = index"
                  class="dot"
                  [ngClass]="{ 'active': activeRoom === idx }"
                  (click)="activeRoom = idx"
                  [attr.aria-label]="'Go to item ' + (idx + 1)">
          </button>
        </div>
      </div>
    </div> 
  </section>
</section>

<section class="contact" id="contact">

   <div class="row">

      <form (ngSubmit)="submitContactForm()" #contactForm="ngForm">
         <h3>Send Us A Message!</h3>
         <input type="text" name="name" [(ngModel)]="contactFormData.name" required maxlength="50" placeholder="Enter your Name" class="box" [class.error]="contactFormData.nameError">
         <div class="error-message" *ngIf="contactFormData.nameError">{{ contactFormData.nameError }}</div>
         
         <input type="email" name="email" [(ngModel)]="contactFormData.email" required maxlength="50" placeholder="Enter your Email" class="box" [class.error]="contactFormData.emailError">
         <div class="error-message" *ngIf="contactFormData.emailError">{{ contactFormData.emailError }}</div>
         
         <input type="tel" name="phone" [(ngModel)]="contactFormData.phone" required maxlength="11" placeholder="Enter your Number (09XXXXXXXXX)" class="box" [class.error]="contactFormData.phoneError" (input)="validatePhone($event)">
         <div class="error-message" *ngIf="contactFormData.phoneError">{{ contactFormData.phoneError }}</div>
         
         <select name="subject" [(ngModel)]="contactFormData.subject" class="box" required>
            <option value="">Select your inquiry type</option>
            <option value="booking">Booking Inquiry</option>
            <option value="cancellation">Cancellation Request</option>
            <option value="feedback">Feedback & Suggestions</option>
            <option value="complaint">Complaint</option>
            <option value="partnership">Partnership</option>
            <option value="other">Other</option>
         </select>
         
         <textarea name="message" [(ngModel)]="contactFormData.message" required maxlength="1000" placeholder="enter your message" cols="30" rows="8" class="box" [class.error]="contactFormData.messageError"></textarea>
         <div class="error-message" *ngIf="contactFormData.messageError">{{ contactFormData.messageError }}</div>
         
         <div class="form-footer">
            <span class="char-count">{{ contactFormData.message.length || 0 }}/1000</span>
            <button type="submit" [disabled]="isSubmitting" class="btn">
               <span *ngIf="!isSubmitting">send message</span>
               <span *ngIf="isSubmitting">sending...</span>
            </button>
         </div>
      </form>
   </div>
</section>
<!-- Reviews Section -->
<section class="reviews" id="reviews">
  <div class="map-section">
    <div class="map-container">
      <iframe src="https://www.google.com/maps/embed?pb=!4v1750218388140!6m8!1m7!1sR676WU5vNdBtcGw68pb1tQ!2m2!1d10.33836319781541!2d123.9307615225092!3f333.56999909587535!4f15.699236120588282!5f0.4000000000000002"
        width="100%" height="100%" style="border:0; border-radius: 10px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
    
    <div class="location-info">
      <div class="info-header">
        <i class="fas fa-map-marker-alt"></i>
        <h3>Our Location</h3>
      </div>
      
      <div class="address-details">
        <p class="street">6014 Sacris Rd</p>
        <p class="city">Mandaue, Central Visayas</p>
        <p class="country">Philippines</p>
      </div>
      
      <div class="contact-details">
        <div class="contact-item">
          <i class="fas fa-phone"></i>
          <span>+123-456-7890</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <span>BCflats.edu.ph</span>
        </div>
      </div>
      
      <div class="map-actions">
        <a href="https://maps.google.com/?q=6014+Sacris+Rd,+Mandaue,+Central+Visayas" target="_blank" class="directions-btn">
          <i class="fas fa-directions"></i>
          Get Directions
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Footer Section -->
<footer class="footer">
  <div class="footer-contacts">
    <a [href]="'tel:' + footerContent.phone1"><i class="fas fa-phone"></i> {{ footerContent.phone1 }}</a>
    <a [href]="'tel:' + footerContent.phone2"><i class="fas fa-phone"></i> {{ footerContent.phone2 }}</a>
    <a [href]="'mailto:' + footerContent.email"><i class="fas fa-envelope"></i> {{ footerContent.email }}</a>
    <a href="#"><i class="fas fa-map-marker-alt"></i> {{ footerContent.address }}</a>
  </div>
          <div class="footer-socials">
            <a [href]="footerContent.social.facebook" target="_blank"><i class="fab fa-facebook-f"></i> Facebook</a>
            <a [href]="footerContent.social.twitter" target="_blank"><i class="fab fa-twitter"></i> Twitter</a>
            <a [href]="footerContent.social.instagram" target="_blank">
                <i class="bi bi-instagram"></i> Instagram
                </a>

            <a [href]="footerContent.social.linkedin" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
          </div>

          <div class="footer-bottom">
            <p>&copy; {{ getCopyrightText() }} Hotel Management System | Version 1.0.0</p>
          </div>
</footer>